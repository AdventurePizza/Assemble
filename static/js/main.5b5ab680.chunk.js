(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{113:function(e,t){},194:function(e,t,n){},196:function(e,t,n){},200:function(e,t){},202:function(e,t){},212:function(e,t){},214:function(e,t){},241:function(e,t){},243:function(e,t){},244:function(e,t){},250:function(e,t){},252:function(e,t){},270:function(e,t){},272:function(e,t){},284:function(e,t){},287:function(e,t){},310:function(e,t,n){},338:function(e,t,n){"use strict";n.r(t);var r=n(13),c=(n(194),n(0)),s=n.n(c),a=n(32),i=n(19),o=(n(196),n(1)),u=n.n(o),l=n(363),d=n(18),f=n(364),p=n(361),h=(n(310),n(86)),j=n(186),b=n(184),x=(n(337),function(e){var t=e.account,n=Object(h.b)().enqueueSnackbar,c=Object(o.useState)(t.address.slice(0,6)+"..."+t.address.slice(32,36)),u=Object(i.a)(c,2),d=u[0],x=u[1],m=Object(o.useState)(),O=Object(i.a)(m,2),g=O[0],y=O[1],w=window.innerWidth<=500;return Object(o.useEffect)((function(){function e(){return(e=Object(a.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.tezos.domains/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'\n            {\n              reverseRecord(address: "'+t+'"){owner domain{name}}\n            }\n            ',variables:{}})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.data.reverseRecord&&(n=e.data.reverseRecord.domain.name,x(n))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(t.address)}),[t]),Object(o.useEffect)((function(){function e(e,t,r){return n.apply(this,arguments)}function n(){return(n=Object(a.a)(s.a.mark((function e(t,n,r){var c,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://indexer.tzprofiles.com/v1/graphql",{method:"POST",body:JSON.stringify({query:t,variables:r,operationName:n})});case 2:return c=e.sent,e.next=5,c.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r(){return(r=Object(a.a)(s.a.mark((function t(n){var r,c,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(v,"TezosProfiles",{address:n});case 2:r=t.sent,c=r.errors,a=r.data,c&&console.error(c),a&&(console.log(a),y(a.tzprofiles_by_pk));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(e){r.apply(this,arguments)}(t.address)}),[t]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"center",children:Object(r.jsx)(f.a,{alt:"Profile Picture",src:"https://services.tzkt.io/v1/avatars/".concat(t.address),style:{width:150,height:150}})}),Object(r.jsx)("div",{className:"center",children:g&&Object(r.jsx)("b",{children:g.alias})}),Object(r.jsx)("div",{className:"center",children:Object(r.jsx)(l.a,{onClick:function(){navigator.clipboard.writeText(t.address),n(Object(r.jsx)("div",{onClick:function(){window.open("https://tzkt.io/".concat(t.address,"/operations"))},children:" Wallet address coppied, click to view on explorer "}),{variant:"success"})},children:d})}),Object(r.jsxs)("div",{className:"modules",style:{display:w?"grid":"flex",width:"100vw",flexWrap:"wrap"},children:[g&&g.twitter&&Object(r.jsx)("div",{className:"twitter",style:{marginInline:w?"auto":10,marginBlock:w?10:0},children:Object(r.jsx)(p.a,{variant:"outlined",children:Object(r.jsx)(j.a,{dataSource:{sourceType:"profile",screenName:g.twitter},options:{width:"400",height:"600"}})})}),g&&g.github&&Object(r.jsx)("div",{className:"github",style:{height:260,marginInline:w?"auto":10,marginBlock:w?10:0},children:Object(r.jsx)(p.a,{variant:"outlined",children:Object(r.jsx)(b.UserCard,{username:g.github})})})]})]})}),v="\nquery TezosProfiles($address: String!){ \n    tzprofiles_by_pk(account: $address) \n    { \n      account,\n      discord,\n      twitter,\n      github,\n      ethereum,\n      domain_name,\n      logo,\n  alias,\n      website,\n      description,\n          valid_claims,\n  \n    } \n  }\n",m=new d.i({name:"Beacon Docs"});var O=function(){var e=Object(o.useState)(),t=Object(i.a)(e,2),n=t[0],c=t[1],u=Object(o.useState)("sync"),d=Object(i.a)(u,2),f=d[0],p=d[1],h=Object(o.useState)(!1),j=Object(i.a)(h,2),b=j[0],v=j[1];function O(){return(O=Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,m.getActiveAccount();case 3:e.t1=e.sent,(0,e.t0)(e.t1),n&&m.clearActiveAccount().then(Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,m.getActiveAccount();case 3:e.t1=e.sent,(0,e.t0)(e.t1),p("sync"),v(!1);case 7:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return y.apply(this,arguments)}function y(){return(y=Object(a.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,m.getActiveAccount();case 3:if(e.t1=e.sent,(0,e.t0)(e.t1),!n){e.next=11;break}return p(n.address),v(!0),e.abrupt("return",n);case 11:return e.prev=11,console.log("Requesting permissions..."),e.next=15,m.requestPermissions();case 15:return t=e.sent,e.t2=c,e.next=19,m.getActiveAccount();case 19:e.t3=e.sent,(0,e.t2)(e.t3),console.log("Got permissions:",t.address),p(t.address),v(!0),e.next=29;break;case 26:e.prev=26,e.t4=e.catch(11),console.log("Got error:",e.t4);case 29:case"end":return e.stop()}}),e,null,[[11,26]])})))).apply(this,arguments)}return Object(o.useEffect)((function(){function e(){return(e=Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,m.getActiveAccount();case 3:e.t1=e.sent,(0,e.t0)(e.t1),n?(p(n.address.slice(0,6)+"..."+n.address.slice(32,36)),v(!0)):(p("sync"),v(!1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"top-left",style:{fontSize:"1em",display:"flex",alignItems:"center",margin:6},children:Object(r.jsx)("b",{children:"Assemble "})}),!b&&Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{textAlign:"center",margin:100},children:"welcome sync and explore"}),Object(r.jsx)("div",{style:{textAlign:"center",margin:100},children:"profile search module"}),Object(r.jsx)("div",{style:{textAlign:"center",margin:100},children:"display random profile"})]}),n&&Object(r.jsx)(x,{account:n}),Object(r.jsxs)("div",{className:"top-right",style:{position:"absolute",display:"flex",alignItems:"center"},children:[b&&Object(r.jsxs)(l.a,{size:"small",title:"unsync",onClick:function(){!function(){O.apply(this,arguments)}()},children:[Object(r.jsx)("u",{children:"unsync"})," "]}),b&&Object(r.jsx)("div",{children:" | "}),Object(r.jsxs)(l.a,{title:"sync",size:"small",onClick:Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:case"end":return e.stop()}}),e)}))),children:[Object(r.jsx)("u",{children:f})," "]})]})]})},g=n(28),y=n.n(g),w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,366)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),s(e),a(e)}))},k=u.a.createContext({getProfileFB:function(){return Promise.resolve({isSuccessful:!1})},setProfileFB:function(){return Promise.resolve({isSuccessful:!1})},getAllProfilesFB:function(){return Promise.resolve({isSuccessful:!1})}}),S="https://network1-backend.herokuapp.com",P=function(e){var t=e.children,n=Object(o.useCallback)(function(){var e=Object(a.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(S+"/users/profile/".concat(t),{method:"GET"});case 2:if(!(n=e.sent).ok){e.next=7;break}return e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),c=Object(o.useCallback)(function(){var e=Object(a.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(S+"/users/profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile:t})});case 2:if(!(n=e.sent).ok){e.next=5;break}return e.abrupt("return",{isSuccessful:!0});case 5:return e.abrupt("return",{isSuccessful:!1,message:n.statusText});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),i=Object(o.useCallback)(Object(a.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(S+"/users/allProfiles",{method:"GET"});case 2:if(!(t=e.sent).ok){e.next=7;break}return e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)}))),[]);return Object(r.jsx)(k.Provider,{value:{getProfileFB:n,setProfileFB:c,getAllProfilesFB:i},children:t})};y.a.render(Object(r.jsx)(P,{children:Object(r.jsx)(h.a,{maxSnack:3,children:Object(r.jsx)(O,{})})}),document.getElementById("root")),w()}},[[338,1,2]]]);
//# sourceMappingURL=main.5b5ab680.chunk.js.map